<!DOCTYPE html>
<!-- Generated by scripts/generate-entry-pages.mjs. -->
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>LaTeX Salon</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>â˜•</text></svg>">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/auto-render.min.js" defer></script>

  <script src="/assets/vendor/tinycolor-min.js"></script>
  <script src="/assets/vendor/nearestColor.js"></script>

  <script src="/assets/vendor/html2canvas.min.js" defer></script>
  <script src="/assets/vendor/html-to-image.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js" defer></script>

  <link rel="preload" as="font" type="font/woff2" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/fonts/KaTeX_Main-Regular.woff2" crossorigin>
  <link rel="preload" as="font" type="font/woff2" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/fonts/KaTeX_Main-Italic.woff2" crossorigin>
  <link rel="preload" as="font" type="font/woff2" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/fonts/KaTeX_Math-Italic.woff2" crossorigin>
  <link rel="preload" as="font" type="font/woff2" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/fonts/KaTeX_AMS-Regular.woff2" crossorigin>
  <link rel="preload" as="font" type="font/woff2" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/fonts/KaTeX_Size1-Regular.woff2" crossorigin>
  <link rel="preload" as="font" type="font/woff2" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/fonts/KaTeX_Size2-Regular.woff2" crossorigin>

  <link rel="preload" as="font" type="font/woff2" href="https://cdn.jsdelivr.net/npm/computer-modern@0.1.3/fonts/cmu-serif-500-roman.woff2" crossorigin>
  <link rel="preload" as="font" type="font/woff2" href="https://cdn.jsdelivr.net/npm/computer-modern@0.1.3/fonts/cmu-serif-700-roman.woff2" crossorigin>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/assets/shared.css">
</head>
<body class="collab" data-collab="true" data-welcome="modal">
  <div class="toolbar">
    <div class="menu" id="snippetsMenu">
      <button class="menu-button" id="snippetsBtn">ğŸ“¥ Insert â–¾</button>
      <ul id="snippetsList">
        <li id="openMatrixGen">Matrix</li>
        <li id="openTableGen">Table</li>
        <li id="insertCases">Cases</li>
      </ul>
    </div>

    <button id="macrosBtn" class="menu-button">âš¡ Shortcuts</button>
    <span class="fill"></span>
    <div class="collab-controls" role="group" aria-label="Collaboration">
      <button id="shareRoomBtn" style="display:none;">ğŸ“‹ Share Room</button>
      <input id="displayNameInput" type="text" maxlength="15" placeholder="Your name" autocomplete="off" spellcheck="false" aria-label="Display name">
      <input id="roomNameInput" type="text" placeholder="Room code" autocomplete="off" autocapitalize="none" autocorrect="off" spellcheck="false" aria-label="Room name">
      <button id="roomJoinBtn">Connect</button>
      <span id="collabStatus" class="collab-status">Offline</span>
    </div>
  </div>

  <div class="container">
    <section id="leftPane">
      <div id="gutter" aria-hidden="true"></div>
      <div id="editorWrap">
        <div id="overlay" aria-hidden="true"></div>
        <textarea id="editor" aria-label="Editor" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Type text with $inline$ and $$display$$ mathâ€¦"></textarea>
        <div id="measure" aria-hidden="true"></div>
      </div>
    </section>
    <div id="divider" role="separator" aria-orientation="vertical" aria-label="Resize panels"></div>
    <section id="preview" aria-live="polite"></section>
  </div>

  <div class="controls">
    <div class="left-controls">
      <div class="mode" title="Mixed vs Classic rendering">
        <label class="switch mode" for="modeToggle">
          <input id="modeToggle" type="checkbox">
          <span class="track">
            <span class="stack some"><span>SOME</span><span>MATH</span></span>
            <span class="stack all"><span>ALL</span><span>MATH</span></span>
            <span class="thumb"></span>
          </span>
        </label>
        <div>
          <div id="modeLabel">Mixed</div>
          <div id="modeDesc">Type text with $inline$ and $$display$$ math.</div>
        </div>
      </div>
    </div>

    <div class="center-controls">
      <div id="presenceList" class="presence-list" aria-live="polite" aria-label="Participants"></div>
    </div>

    <div class="right-controls">
      <div class="dark-switch" title="Light / Dark">
        <label class="switch dark" for="darkToggle">
          <input id="darkToggle" type="checkbox">
          <span class="track">
            <span class="emoji moon">ğŸŒ™</span>
            <span class="emoji sun">ğŸŒ</span>
            <span class="thumb"></span>
          </span>
        </label>
      </div>

      <button id="exportBtn" class="menu-button" aria-haspopup="dialog" aria-expanded="false">ğŸ“¤ Export</button>
      <button id="pngBtn">ğŸ–¼ï¸ PNG</button>
      <button id="pdfBtn">ğŸ“„ PDF</button>
      <button id="clearBtn" title="Clear editor and saved text">ğŸ§¹ Clear</button>
    </div>
  </div>

  <div class="modal-backdrop" id="exportModal">
    <div class="modal export-modal" role="dialog" aria-modal="true" aria-labelledby="exportTitle">
      <h3 id="exportTitle">Export</h3>
      <div class="actions export-actions">
        <button class="menu-button" id="exportPngOption">ğŸ–¼ï¸ PNG</button>
        <button class="menu-button" id="exportPdfOption">ğŸ“„ PDF</button>
        <button class="menu-button" id="exportCancel">Cancel</button>
      </div>
    </div>
  </div>

  <div class="modal-backdrop" id="matrixModal">
    <div class="modal matrix-modal" role="dialog" aria-modal="true" aria-labelledby="matrixTitle">
      <h3 id="matrixTitle">Insert Matrix</h3>
      <div class="matrix-size-picker">
        <div class="matrix-size-meta">
          <span class="matrix-size-title">Size</span>
          <output id="mSizeValue" class="matrix-size-value" aria-live="polite">3 Ã— 3</output>
        </div>
        <div id="mSizeGrid" class="matrix-size-grid" role="grid" aria-label="Select matrix size"></div>
        <input type="hidden" id="mRows" value="3">
        <input type="hidden" id="mCols" value="3">
      </div>
      <div class="row matrix-type-row">
        <label for="mType">Type</label>
        <select id="mType">
          <option value="pmatrix">pmatrix ( )</option>
          <option value="bmatrix">bmatrix [ ]</option>
          <option value="Bmatrix">Bmatrix { }</option>
          <option value="vmatrix">vmatrix | |</option>
          <option value="Vmatrix">Vmatrix || ||</option>
        </select>
      </div>
      <div class="preview" id="matrixPrev"></div>
      <div class="actions">
        <button class="menu-button" id="mCancel">Cancel</button>
        <button class="menu-button" id="mInsert">ğŸ“¥ Insert</button>
      </div>
    </div>
  </div>

  <div class="modal-backdrop" id="tableModal">
    <div class="modal matrix-modal table-modal" role="dialog" aria-modal="true" aria-labelledby="tableTitle">
      <h3 id="tableTitle">Insert Table</h3>
      <div class="matrix-size-picker table-size-picker">
        <div class="matrix-size-meta">
          <span class="matrix-size-title">Size</span>
          <output id="tSizeValue" class="matrix-size-value" aria-live="polite">3 Ã— 3</output>
        </div>
        <div id="tSizeGrid" class="matrix-size-grid table-size-grid" role="grid" aria-label="Select table size"></div>
        <input type="hidden" id="tRows" value="3">
        <input type="hidden" id="tCols" value="3">
      </div>
      <div class="row table-type-row">
        <label for="tAlign">Align</label>
        <select id="tAlign">
          <option value="c">center</option>
          <option value="l">left</option>
          <option value="r">right</option>
        </select>
        <label for="tBorders">Borders</label>
        <select id="tBorders">
          <option value="none">none</option>
          <option value="outer">outer</option>
          <option value="all">all</option>
        </select>
      </div>
      <div class="preview" id="tablePrev"></div>
      <div class="actions">
        <button class="menu-button" id="tCancel">Cancel</button>
        <button class="menu-button" id="tInsert">ğŸ“¥ Insert</button>
      </div>
    </div>
  </div>

  <div class="modal-backdrop" id="macrosModal">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="macrosTitle">
      <h3 id="macrosTitle">Shortcuts (\newcommand)</h3>
      <div class="row" style="flex-direction:column; align-items:stretch;">
        <textarea id="macrosText" style="width:100%;height:220px;font-family:monospace;"></textarea>
        <small style="opacity:.8;margin-top:.5rem;">
          Paste lines like: <code>\newcommand{\RR}{\mathbb{R}}</code> or <code>\newcommand{\vect}[1]{\mathbf{#1}}</code>
        </small>
      </div>
      <div class="actions">
        <button class="menu-button" id="macrosReset">Reset</button>
        <button class="menu-button" id="macrosCancel">Cancel</button>
        <button class="menu-button" id="macrosSave">Save</button>
      </div>
    </div>
  </div>

  <div id="joinPop" class="welcome-pop" role="dialog" aria-modal="false" aria-labelledby="joinPopTitle" style="display:none">
    <div class="welcome-content">
      <h3 id="joinPopTitle">âš ï¸ Warning: Joining an Existing Room</h3>
      <p>If the room you are trying to join is already populated, joining will replace your editor's contents with the room's shared text.</p>
      <label class="join-pop-option"><input id="joinPopDontShow" type="checkbox"> Don't show this again</label>
      <div class="join-pop-actions">
        <button id="joinPopCancel">âŒ Cancel</button>
        <button id="joinPopDismiss">âœ… Got it</button>
      </div>
    </div>
  </div>

  <div id="welcomeBackdrop" class="welcome-backdrop" hidden></div>
  <div id="welcomePop" class="welcome-pop" role="dialog" aria-modal="false" aria-labelledby="welcomeTitle">
    <div class="welcome-content">
      <h3 id="welcomeTitle">ğŸ‘‹ Welcome to LaTeX Salon</h3>
      <p>This is an in-browser multiplayer LaTeX playground with live KaTeX rendering.</p>
      <ul>
        <li><strong>Join or create rooms:</strong> pop a room name in the toolbar and anyone using it appears instantly.</li>
        <li><strong>Live updates:</strong> edits sync peerâ€‘toâ€‘peer using the Trystero protocol.</li>
        <li><strong>Other features:</strong> Mixed mode supports plain text with math, while Classic mode renders every line as math. Dark mode, PNG/PDF exports, and custom shortcuts are supported too.</li>
      </ul>
      <button id="welcomeClose">Letâ€™s collaborate</button>
    </div>
  </div>

  <script>
    window.LATEX_LAB_CONFIG = {
      collab: true,
      shareStateLink: false,
      storagePrefix: 'latexlab.trystero'
    };
  </script>
  <script type="module" src="/assets/katex_backend.js"></script>
</body>
</html>
